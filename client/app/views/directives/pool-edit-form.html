<div class="alert alert-{{ flash.class }}" ng-show="flash.message">
  {{ flash.message }}
</div>
<form class="form-horizontal" name="poolForm" novalidate role="form">
  <div class="form-group" ng-class="{ 'has-error': poolForm.isSubmitted && poolForm.name.$invalid }">
    <label class="col-sm-2 control-label" for="name">Name</label>
    <div class="col-sm-6">
      <input type="text" class="form-control" name="name" ng-model="pool.name" required placeholder="">
      <p class="help-block" ng-show="poolForm.isSubmitted && poolForm.name.$error.required">Please enter a name for the pool</p>
    </div>
  </div>
  <div ng-repeat="rp in positions" class="form-group" ng-class="{ 'has-error': poolForm.isSubmitted && poolForm[rp.label].$invalid }">
    <label class="col-sm-2 control-label" for="{{ rp.label }}">{{ rp.label }}</label>
    <div class="col-sm-2">
      <input type="text" class="form-control" name="{{ rp.label }}" ng-model="pool.settings.rosterPositions[rp.label]" placeholder="1">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" ng-show="pool.$id" ng-click="submit(pool)">Update</button>
      <button type="submit" class="btn btn-primary" ng-show="!pool.$id" ng-click="submit(pool)">Create</button>
      <button type="submit" class="btn btn-danger" ng-show="pool.$id" ng-click="delete(pool)">Delete</button>
    </div>
  </div>
</form>
